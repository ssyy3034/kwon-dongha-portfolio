---
date: 2025-09-20
tags: [CS]
---


### **CPU 레지스터와 오퍼랜드**

#### **CPU 범용 레지스터**
CPU는 64비트 값을 저장할 수 있는 **16개의 범용 레지스터**를 가집니다.
- 이 레지스터들은 주로 **정수(integer)와 포인터(pointer)**를 저장하는 데 사용됩니다.
- 특히, 스택 포인터 레지스터인 `%rsp`는 **런타임 스택(runtime stack)의 끝부분**을 가리키는 중요한 역할을 합니다.

---

### **3.4.1 오퍼랜드(Operand) 식별자**

대부분의 인스트럭션(instruction)은 연산을 수행할 대상인 **오퍼랜드**를 하나 이상 가집니다. 오퍼랜드는 다음 두 가지를 명시합니다:
- **소스(Source)**: 연산에 사용할 값의 위치
- **목적지(Destination)**: 연산 결과를 저장할 위치

소스 값은 **상수, 레지스터, 또는 메모리**에서 가져올 수 있으며, 결과는 **레지스터 또는 메모리**에 저장됩니다.

#### **오퍼랜드 타입**
1.  **Immediate (상수)**: `$` 기호로 시작하는 상수 값입니다. (예: `$577`)
2.  **Register (레지스터)**: 레지스터에 저장된 값 자체를 의미합니다. (예: `%rax`)
3.  **Memory Reference (메모리 참조)**: '유효 주소(effective address)' 계산을 통해 접근하는 메모리의 특정 위치를 가리킵니다.

---

### **3.4.2 데이터 이동 인스트럭션**

데이터 이동 인스트럭션은 가장 빈번하게 사용되는 명령어 중 하나로, 데이터를 한 위치에서 다른 위치로 복사하는 역할을 합니다. 가장 대표적인 명령어는 `mov` 계열입니다.

`mov` 명령어는 접미사(suffix)를 통해 데이터의 크기를 지정합니다:
- `movb` (byte, 1바이트)
- `movw` (word, 2바이트)
- `movl` (long/double word, 4바이트)
- `movq` (quad word, 8바이트)

**참고**: 메모리에서 메모리로 직접 데이터를 복사할 수는 없으며, 레지스터를 거쳐야 합니다.

**메모리 간 데이터 복사 과정:**
1.  소스 메모리의 값을 레지스터로 불러옵니다. (`movq SOURCE_MEM, %rax`)
2.  레지스터의 값을 목적지 메모리에 씁니다. (`movq %rax, DEST_MEM`)