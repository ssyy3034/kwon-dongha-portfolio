---
date: 2025-10-31
tags: [Network]
---

# UDP (User Datagram Protocol)

## 정의

UDP는 인터넷 프로토콜스택의 전송층(Transport Layer)에서 동작하는 프로토콜로,  
**연결설정 없이(connection-less)** 데이터를 빠르게 보내기 위해 설계됐다.(
즉, 보낼 준비(overhead)나 도착 확인(ack) 같은 검증 절차가 없기 때문에 속도는 빠르지만 신뢰성은 낮다.

---

## 헤더 구조

UDP 헤더는 매우 단순해. 주요 필드는 다음과 같아

|필드|크기|설명|
|---|---|---|
|Source Port|16비트|보내는 쪽 포트 번호|
|Destination Port|16비트|받는 쪽 포트 번호|
|Length|16비트|헤더 + 데이터 길이 포함|
|Checksum|16비트|데이터 무결성 검사용 (IPv6에서는 필수)|

추가로, IPv4 위에서 동작할 때는 ‘pseudo-header’라는 가짜 헤더를 체크섬 계산에 포함하기도 해.

---

## 특성 및 동작 방식

- **연결 없음(connectionless)**: 송신자는 받는 쪽과 미리 손잡거나(Handshake) 하지 않고 바로 [[데이터그램]](datagram)을 보냄.
    
- **순서 보장 없음(no ordering)**: 보낸 순서대로 도착하지 않을 수 있고 중복되거나 아예 사라질 수 있어.
    
- **재전송/흐름제어 없음(no flow control, no retransmission)**: 네트워크 상태에 따라 손실이 발생해도 UDP 자체가 복구 안 함.
    
- **오버헤드 적음(low overhead)**: 연결설정·세션관리 같은 부가 작업이 없어서 지연(latency)이 작아.
    
- **멀티캐스트/브로드캐스트 가능**: 여러 대상에게 동시에 보낼 수 있는 구조에 유리해.
    

---

## 사용 사례

다음 같은 상황에서 UDP가 많이 사용돼:

- 실시간성이 매우 중요한 경우 (지연보다 손실이 더 낫다고 판단될 때) → 예: VoIP, 실시간 스트리밍, 온라인 게임.
    
- 짧은 질의-응답 구조에서 빠르게 응답을 원할 때 → 예: DNS 조회, DHCP 같은 제어 메시지.
    
- 다수에게 동시에 데이터를 뿌려야 할 때 → 예: 멀티캐스트 또는 대량 방송형 전송.
    

---

## 장점 & 단점

**장점**

- 빠른 전송 가능
    
- 낮은 지연 및 오버헤드
    
- 단순 구조로 구현 및 운영이 쉬움
    
- 멀티캐스트/브로드캐스트에 적합
    

**단점**

- 데이터 손실 가능성 있음
    
- 순서 보장 안 됨
    
- 수신 여부 확인이나 오류 복구 기능 없음
    
- 신뢰성이 높은 데이터 전송에는 부적합
    

---

## 구현 및 보안 이슈

- UDP는 손쉬운 구조 덕분에 **DDoS 공격**의 대상이 되기도 해. 연결 확인이 없기 때문에 대량의 패킷을 보내서 상대를 압박할 수 있어.
    
- 최근에는 UDP 위에 신뢰성 또는 보안 레이어를 얹은 프로토콜(예: QUIC)이 나오고 있어.

- 애플리케이션 쪽에서 오류 검출·보복구 로직을 추가해야 할 경우가 많아.
    

---

## 실무 팁

- 실시간 미디어나 지연을 최소화해야 하는 환경에서는 UDP 우선 고려해라.
    
- 반대로 **데이터 누락이나 순서가 치명적인 경우**라면 TCP나 다른 신뢰성 있는 프로토콜 선택해라.
    
- UDP 사용 시에는 포트 설정, 체크섬 여부, 멀티캐스트/브로드캐스트 사용 시 네트워크 구성, 방화벽 설정 등을 미리 검토해야 해.
    
- 보안 측면에서 “내가 보낸게 제대로 도착했나?” 같은 확인이 없기 때문에 애플리케이션 레벨에서 로그·모니터링 설계가 중요해.
    