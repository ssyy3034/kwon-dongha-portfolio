---
date: 2025-10-30
tags: [Network]
---


## 파일 디스크립터 (File Descriptor)

**파일 디스크립터**(File Descriptor, 줄여서 **fd**)는 운영체제가 열려있는 파일이나 I/O 장치를 식별하기 위해 부여하는 **음수가 아닌 정수(non-negative integer)** 입니다. 이것은 파일의 실제 이름이 아니라, 커널이 내부적으로 파일을 관리하기 위해 사용하는 일종의 '관리 번호'입니다.

리눅스나 유닉스 같은 운영체제는 "모든 것은 파일이다(Everything is a file)"라는 중요한 설계 철학을 따릅니다. 이 철학 덕분에 우리는 파일 디스크립터라는 단일한 메커니즘을 통해 다양한 대상과 소통할 수 있습니다.

---

## 📄 "모든 것은 파일이다" 철학

유닉스 계열 시스템에서는 다음과 같은 다양한 것들을 모두 '파일'이라는 단일한 개념으로 취급합니다.

- **일반 파일**: 텍스트 파일, 이미지 파일 등
    
- **디바이스**: 키보드, 마우스, 모니터, 하드 디스크 등
    
- **네트워크 연결**: **소켓(Socket)**
    
- **프로세스 간 통신**: 파이프(Pipe)
    

운영체제는 이 모든 것들을 열 때마다 고유한 파일 디스크립터를 할당해 줍니다. 덕분에 프로그래머는 대상이 키보드인지, 파일인지, 아니면 네트워크 소켓인지 신경 쓸 필요 없이 `read()`, `write()` 같은 동일한 함수를 사용하여 데이터를 읽고 쓸 수 있습니다.

---

## 🏷️ 표준 파일 디스크립터

모든 프로세스는 실행될 때 기본적으로 3개의 파일 디스크립터를 자동으로 할당받습니다.

- **`0` : 표준 입력 (Standard Input, stdin)**
    
    - **역할**: 데이터를 입력받는 통로입니다.
        
    - **기본 장치**: 보통 **키보드**에 연결됩니다.
        
- **`1` : 표준 출력 (Standard Output, stdout)**
    
    - **역할**: 일반적인 데이터를 출력하는 통로입니다.
        
    - **기본 장치**: 보통 **모니터 화면**에 연결됩니다.
        
- **`2` : 표준 에러 (Standard Error, stderr)**
    
    - **역할**: 오류 메시지를 출력하는 통로입니다.
        
    - **기본 장치**: 보통 **모니터 화면**에 연결됩니다.
        

---

## 🌐 소켓과 파일 디스크립터

네트워크 프로그래밍에서 소켓은 이 파일 디스크립터 개념을 매우 중요하게 사용합니다.

1. 프로그램이 `socket()` 함수를 호출하여 통신 채널을 생성하면, 커널은 이 소켓을 위한 파일 디스크립터(예: 3번)를 반환합니다.
    
2. 서버가 `accept()` 함수를 통해 클라이언트의 연결을 수락하면, 그 특정 클라이언트와의 통신을 위한 **새로운 파일 디스크립터**(예: 4번)를 또 반환합니다.
    
3. 이후 서버나 클라이언트는 `read(4, ...)`나 `write(4, ...)` 같은 일반 파일 I/O 함수를 사용하여, 4번 파일 디스크립터에 연결된 상대방과 데이터를 주고받게 됩니다.
    

이처럼 파일 디스크립터는 복잡한 네트워크 통신을 단순하고 일관된 파일 입출력처럼 다룰 수 있게 해주는 강력한 추상화 도구입니다.