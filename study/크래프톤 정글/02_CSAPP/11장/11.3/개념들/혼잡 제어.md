---
date: 2025-10-31
tags: [Network]
---

## TCP의 4단계 혼잡 제어 알고리즘

TCP는 **AIMD (Additive Increase, Multiplicative Decrease)** 원리를 사용해.  
즉,

- 네트워크가 한가하면 천천히 속도 올리고
    
- 혼잡이 감지되면 확 줄인다.
    

아래는 전형적인 과정이야 

---

### ① **Slow Start (느린 시작)**

- 처음엔 네트워크 상태를 모르니까 조심스럽게 시작.
    
- 매 RTT마다 cwnd를 **2배씩 증가**시킴 (지수 증가).
    
- 즉, 초반에는 빠르게 속도 탐색.
    

📈 cwnd: 1 → 2 → 4 → 8 → 16 → …

→ 임계치(`ssthresh`)에 도달하면 다음 단계로 전환.

---

### ② **Congestion Avoidance (혼잡 회피)**

- 네트워크가 감당 가능한 수준에 가까워지면,  
    더 이상 급격히 올리면 안 되니까  
    **매 RTT마다 선형으로 증가** (1씩 증가).
    

📈 cwnd: 16 → 17 → 18 → 19 → …

→ 만약 패킷 손실 발생 시, 혼잡으로 판단하고 **감속.**

---

### ③ **Fast Retransmit (빠른 재전송)**

- 수신자가 같은 ACK을 3번 이상 보내면 (“중복 ACK 3개”),  
    송신자는 “이건 손실이네!” 하고 **즉시 재전송.**  
    (타임아웃 기다리지 않음)
    

---

### ④ **Fast Recovery (빠른 회복)**

- 손실 후 완전히 slow start로 돌아가지 않고,  
    cwnd를 절반으로 줄여서 점진적으로 회복.
    

📉 cwnd: 16 → 8 → 9 → 10 → …

---

## 📊 그림으로 정리 (개념 흐름)

```text
패킷 전송량(cwnd)
│
│            /\/\/\/\/ (RTT 지연/손실 → 감소)
│          /
│        /
│      /
│   _/
│_/           ← Slow Start (지수 증가)
───────────────→ 시간
```

이 그래프는 TCP의 **AIMD 패턴**을 보여줘.  
천천히 올리고, 한 번 손실나면 절반으로 줄이는 리듬이야.